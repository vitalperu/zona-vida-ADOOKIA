<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Zona Vida Radio</title>

  <!-- Google Fonts y Material Icons -->
  <link href="https://fonts.googleapis.com/css?family=Montserrat:600,700&display=swap" rel="stylesheet" />
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet" />

  <!-- Materialize CSS -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css"/>
  <link rel="stylesheet" href="style.css" />

  <!-- PWA -->
  <link rel="manifest" href="/manifest.json" />
  <meta name="theme-color" content="#5e2760" />
  <link rel="icon" href="favicon.ico" type="image/x-icon" />
  <style>
    /* Fondo de pantalla */
    body {
      background-image: url('https://images.unsplash.com/photo-1506744038136-46273834b3fb?auto=format&fit=crop&w=1200&q=80');
      background-size: cover;
      background-position: center;
      background-attachment: fixed;
      min-height: 100vh;
      font-family: 'Montserrat', sans-serif;
    }
    /* Oculta recuadros por defecto de player */
    .player-app-container {
      background: transparent;
      box-shadow: none;
      border-radius: 0;
      max-width: 500px;
      margin: 32px auto 0 auto;
    }
    .circle-visual-logo {
      position: relative;
      width: 160px;
      height: 160px;
      display: flex;
      align-items: center;
      justify-content: center;
      margin: 0 auto;
    }
    .circle-visual-logo img#logoRadioActual {
      position: absolute;
      width: 90px;
      height: 90px;
      object-fit: contain;
      z-index: 2;
      left: 50%;
      top: 50%;
      transform: translate(-50%, -50%);
      border-radius: 50%;
      box-shadow: 0 0 8px #fff, 0 0 0 4px #eee;
      background: #fff;
      padding: 6px;
    }
    .spectrum-bars {
      position: absolute;
      width: 100%;
      height: 100%;
      z-index: 1;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 6px;
      pointer-events: none;
    }
    .spectrum-bars .bar {
      width: 8px;
      height: 60px;
      background: linear-gradient(180deg, #b39ddb 40%, #7c4dff 100%);
      border-radius: 8px;
      animation: barAnim 1.1s infinite;
    }
    .spectrum-bars .bar:nth-child(2) { animation-delay: 0.15s; }
    .spectrum-bars .bar:nth-child(3) { animation-delay: 0.3s; }
    .spectrum-bars .bar:nth-child(4) { animation-delay: 0.45s; }
    .spectrum-bars .bar:nth-child(5) { animation-delay: 0.6s; }
    .spectrum-bars .bar:nth-child(6) { animation-delay: 0.75s; }

    @keyframes barAnim {
      0%, 100% { height: 60px; }
      25% { height: 30px; }
      50% { height: 85px; }
      75% { height: 50px; }
    }
    .song-info {
      text-align: center;
      margin-top: 18px;
    }
    .song-title {
      font-weight: bold;
      font-size: 1.15rem;
      color: #4527a0;
    }
    .song-artist {
      font-size: 1rem;
      color: #5e35b1;
      margin-top: 2px;
    }
    .radio-controls-wrapper {
      display: flex;
      flex-direction: column;
      align-items: center;
      margin: 16px 0;
    }
    .radio-controls {
      display: flex;
      align-items: center;
      background: rgba(255,255,255,0.7);
      border-radius: 18px;
      padding: 8px 20px 8px 8px;
      box-shadow: 0 2px 8px #ccc2;
      margin-bottom: 0;
    }
    /* Parrilla de radios */
    .radio-grid-scroll {
      max-height: 220px;
      overflow-y: auto;
      padding: 6px 0 10px 0;
    }
    .radio-grid {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 14px;
      justify-items: center;
    }
    .radio-item {
      cursor: pointer;
      text-align: center;
      transition: transform 0.18s, box-shadow 0.18s;
      padding: 4px;
    }
    .radio-item img {
      border-radius: 50%;
      width: 60px;
      height: 60px;
      object-fit: cover;
      box-shadow: 0 2px 8px #5e35b122;
      border: 3px solid #e0e0e0;
      transition: border-color 0.15s;
    }
    .radio-item.selected img,
    .radio-item:hover img {
      border-color: #7c4dff;
      box-shadow: 0 0 0 4px #d1c4e9;
      background: #fff;
    }
    .radio-name {
      font-size: 0.97rem;
      font-weight: 500;
      color: #333;
      margin-top: 4px;
      text-shadow: 0 2px 8px #fff8;
      word-break: break-word;
    }
    /* Scrollbar personalizado (opcional) */
    .radio-grid-scroll::-webkit-scrollbar {
      width: 7px;
      background: #ede7f6;
    }
    .radio-grid-scroll::-webkit-scrollbar-thumb {
      background: #b39ddb;
      border-radius: 8px;
    }
    @media (max-width:600px) {
      .player-app-container {
        max-width: 98vw;
      }
      .circle-visual-logo { width:120px;height:120px;}
      .circle-visual-logo img#logoRadioActual { width:70px;height:70px;}
      .radio-grid { grid-template-columns: repeat(4, 1fr);}
      .radio-item img { width:44px;height:44px;}
    }
  </style>
</head>
<body>
  <!-- NAVBAR (igual, puedes personalizar) -->
  <nav class="white z-depth-1">
    <div class="nav-wrapper container">
      <div class="nav-logo-socials">
        <img src="./img/logo.png" alt="Zona Vida Radio" style="height:50px; margin-top:5px;" />
        <div class="nav-socials">
          <a class="btn-floating btn-small red tooltipped" href="https://www.youtube.com/@enlaceperutv" target="_blank" data-tooltip="YouTube"><i class="material-icons">ondemand_video</i></a>
          <a class="btn-floating btn-small blue tooltipped" href="https://facebook.com" target="_blank" data-tooltip="Facebook"><i class="material-icons">facebook</i></a>
          <a class="btn-floating btn-small blue lighten-1 tooltipped" href="https://twitter.com" target="_blank" data-tooltip="Twitter"><i class="material-icons">twitter</i></a>
          <a class="btn-floating btn-small purple tooltipped" href="https://instagram.com" target="_blank" data-tooltip="Instagram"><i class="material-icons">photo_camera</i></a>
        </div>
      </div>
      <a href="#" data-target="mobile-menu" class="sidenav-trigger"><i class="material-icons">menu</i></a>
      <ul class="nav-menu right">
        <li><a href="#">Inicio</a></li>
        <li><a href="#">Programas</a></li>
        <li><a href="#">Contacto</a></li>
      </ul>
    </div>
  </nav>
  <ul class="sidenav" id="mobile-menu">
    <li><a href="#">Inicio</a></li>
    <li><a href="#">Programas</a></li>
    <li><a href="#">Contacto</a></li>
  </ul>

  <!-- PLAYER Y PARRILLA -->
  <div class="player-app-container">
    <!-- REPRODUCTOR -->
    <div class="circle-player">
      <div class="circle-visual-logo">
        <img src="https://via.placeholder.com/120" id="logoRadioActual" alt="Logo Radio" />
        <div class="spectrum-bars">
          <div class="bar"></div><div class="bar"></div><div class="bar"></div>
          <div class="bar"></div><div class="bar"></div><div class="bar"></div>
        </div>
      </div>
      <div class="song-info">
        <div class="song-title">Nombre de la Canción</div>
        <div class="song-artist">Nombre del Artista</div>
      </div>
    </div>
    <!-- CONTROLES -->
    <div class="radio-controls-wrapper">
      <audio id="player" preload="auto">
        <source src="https://radio.zonavidahd.online/listen/hd/radio.mp3" type="audio/mpeg" />
        Tu navegador no soporta audio en línea.
      </audio>
      <div class="radio-controls">
        <button id="playPauseBtn" class="btn-floating btn-large waves-effect waves-light purple">
          <i id="playPauseIcon" class="material-icons">play_arrow</i>
        </button>
        <input id="volumeBar" type="range" min="0" max="1" step="0.01" value="1" style="vertical-align:middle; width: 100px; margin: 0 12px;" />
        <span id="volIcon" style="vertical-align: middle; cursor: pointer;">
          <i class="material-icons">volume_up</i>
        </span>
        <span id="volValue" style="font-weight: 600; margin-left: 8px;">100%</span>
      </div>
    </div>
    <!-- PARRILLA DE RADIOS -->
    <div class="radio-grid-scroll">
      <div class="radio-grid">
        <div class="radio-item selected" data-logo="https://via.placeholder.com/120" data-radio="https://radio.zonavidahd.online/listen/hd/radio.mp3">
          <img src="https://via.placeholder.com/60" alt="Radio 1" />
          <div class="radio-name">Radio 1</div>
        </div>
        <div class="radio-item" data-logo="https://via.placeholder.com/120/ff9800/fff?text=R2" data-radio="https://some-radio-2.mp3">
          <img src="https://via.placeholder.com/60/ff9800/fff?text=R2" alt="Radio 2" />
          <div class="radio-name">Radio 2</div>
        </div>
        <div class="radio-item" data-logo="https://via.placeholder.com/120/4caf50/fff?text=R3" data-radio="https://some-radio-3.mp3">
          <img src="https://via.placeholder.com/60/4caf50/fff?text=R3" alt="Radio 3" />
          <div class="radio-name">Radio 3</div>
        </div>
        <div class="radio-item" data-logo="https://via.placeholder.com/120/e91e63/fff?text=R4" data-radio="https://some-radio-4.mp3">
          <img src="https://via.placeholder.com/60/e91e63/fff?text=R4" alt="Radio 4" />
          <div class="radio-name">Radio 4</div>
        </div>
        <!-- Agrega más radios aquí -->
        <div class="radio-item" data-logo="https://via.placeholder.com/120/607d8b/fff?text=R5" data-radio="https://some-radio-5.mp3">
          <img src="https://via.placeholder.com/60/607d8b/fff?text=R5" alt="Radio 5" />
          <div class="radio-name">Radio 5</div>
        </div>
        <div class="radio-item" data-logo="https://via.placeholder.com/120/8bc34a/fff?text=R6" data-radio="https://some-radio-6.mp3">
          <img src="https://via.placeholder.com/60/8bc34a/fff?text=R6" alt="Radio 6" />
          <div class="radio-name">Radio 6</div>
        </div>
        <div class="radio-item" data-logo="https://via.placeholder.com/120/3f51b5/fff?text=R7" data-radio="https://some-radio-7.mp3">
          <img src="https://via.placeholder.com/60/3f51b5/fff?text=R7" alt="Radio 7" />
          <div class="radio-name">Radio 7</div>
        </div>
        <div class="radio-item" data-logo="https://via.placeholder.com/120/cddc39/333?text=R8" data-radio="https://some-radio-8.mp3">
          <img src="https://via.placeholder.com/60/cddc39/333?text=R8" alt="Radio 8" />
          <div class="radio-name">Radio 8</div>
        </div>
      </div>
    </div>
    <!-- BOTÓN INSTALAR APP -->
    <div class="install-button-wrapper" style="margin-top:18px;display:flex;justify-content:center;">
      <button id="installBtn" class="btn-large waves-effect waves-light">
        <i class="material-icons left">download</i> Instalar App
      </button>
    </div>
  </div>

  <!-- Materialize y tu JS -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
  <script>
    // Selección de radios y cambio de logo/stream
    document.querySelectorAll('.radio-item').forEach(function(item){
      item.addEventListener('click', function(){
        document.querySelectorAll('.radio-item').forEach(i => i.classList.remove('selected'));
        item.classList.add('selected');
        // Cambia logo central
        document.getElementById('logoRadioActual').src = item.getAttribute('data-logo');
        // Cambia stream
        var player = document.getElementById('player');
        player.src = item.getAttribute('data-radio');
        player.load();
        // Reproduce automáticamente
        player.play();
        document.getElementById('playPauseIcon').textContent = 'pause';
      });
    });
    // Play/Pause
    const playPauseBtn = document.getElementById('playPauseBtn');
    const playPauseIcon = document.getElementById('playPauseIcon');
    const player = document.getElementById('player');
    playPauseBtn.addEventListener('click', function(){
      if(player.paused){
        player.play();
        playPauseIcon.textContent = 'pause';
      } else {
        player.pause();
        playPauseIcon.textContent = 'play_arrow';
      }
    });
    // Volumen
    const volumeBar = document.getElementById('volumeBar');
    const volValue = document.getElementById('volValue');
    volumeBar.addEventListener('input', function(){
      player.volume = volumeBar.value;
      volValue.textContent = Math.round(volumeBar.value*100) + '%';
    });
    // Service Worker para PWA (no tocar)
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        navigator.serviceWorker.register('/sw.js')
          .then(registration => {
            console.log('Service Worker registrado con éxito:', registration.scope);
          })
          .catch(error => {
            console.error('Error registrando el Service Worker:', error);
          });
      });
    }
  </script>
</body>
</html>
